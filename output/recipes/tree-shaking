Original page: https://solito.dev/recipes/tree-shaking

On this page

# Tree Shaking

Every time you use React Navigation code, you can replace it with an empty
function to use on Web.

This will avoid importing unused code on Web, and prevent unnecessary errors
from not having a parent context.

In order to do so, we will re-export each module we use from the `react-
navigation` package, and give it a no-op on Web.

## Create a platform-specific module​

Say you want to use `useScrollToTop()`. Create a file and re-export
`useScrollToTop` from `react-navigation` for Native and give it a no-op on
Web.

#### `hooks/use-scroll-to-top.ts`​

    
    
    tsx
    
    export { useScrollToTop } from '@react-navigation/native'
    
    Copy
    
    
    tsx
    
    export { useScrollToTop } from '@react-navigation/native'
    
    Copy

Next, make the same file with a `.web.ts` extension:

#### `hooks/use-scroll-to-top.web.ts`​

    
    
    tsx
    
    /**
    
     * @deprecated you are importing from the wrong file.
    
     */
    
    export function useScrollToTop() {
    
      // no-op
    
    }
    
    Copy
    
    
    tsx
    
    /**
    
     * @deprecated you are importing from the wrong file.
    
     */
    
    export function useScrollToTop() {
    
      // no-op
    
    }
    
    Copy

Next, replace your imports from `@react-navigation/native` with `hooks/use-
scroll-to-top`:

    
    
    tsx
    
    import { useScrollToTop } from 'hooks/use-scroll-to-top'
    
    Copy
    
    
    tsx
    
    import { useScrollToTop } from 'hooks/use-scroll-to-top'
    
    Copy

Solito uses this approach under the hood, ensuring that code is all tree-
shaken for the platform it's meant to run on.

[Edit this
page](https://github.com/nandorojo/solito/tree/master/docs/docs/recipes/tree-
shaking.mdx)

Last updated on **3/11/2024** by **Fernando Rojo**

[ PreviousRedirects](/recipes/redirects)

[NextuseIsFocused()](/recipes/use-is-focused)

  * Create a platform-specific module

